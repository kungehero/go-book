### GC
```
目前 Go 运行时的 GC 是一个并发标记清理的回收器，这涉及两个需要解决的核心问题：
1）何时启动 GC 并启动多少数量的 worker 进行搜集从而防止回收器使用过多的计算资源影响用户代码的高效执行；
2）如何防止收集垃圾的速度慢于内存分配的速度
```
### go 卖点
```
1) 语法简单，代码可读性强
2) 内存占用少，gc自动回收
3) 跨平台语言
4) 
```
### 虚拟内存和物理内存？
```
虚拟内存和物理内存的区别在于：
物理内存是真实存在的，它的表现形式bai是插在电脑主板上的内存条。看机器配置的时候，看的就是这个物理内存。而虚拟内存是虚拟存在的。它其实是电脑匀出一部分硬盘空间来充当内存使用。当内存耗尽时，电脑就会自动调用硬盘来充当内存，以缓解内存的紧张。
内存条的读写速度达到2700MB/s以上，而普通机械硬盘读写速度只有150MB/s，即使是固态硬盘也仅可以达到500MB/s，因而与物理内存相比虚拟内存的读写速度都非常慢。
物理内存容量由内存条决定。内存条是多少GB，物理内存就是多少GB。比如主板上有两根1GB内存条，那么物理内存容量就是2GB。如果再插上一根1GB内存条，那么物理内存容量就有3GB。而虚拟内存的容量大小可以通过设置进行改变。
物理内存和虚拟内存起到的作用不同，物理内存是与CPU进行沟通的桥梁，虚拟内存则是在计算机运行程序或操作所需的物理内存不足时，起到补偿作用。
物理内存比虚拟内存更好，因为它起到主要作用而且读写速度更快，虚拟内存起到辅助作用，读写速度更慢。
物理内存（Physical memory）是相对于逻辑内存而言的。物理内存指通过物理内存条而获得的内存空间，而逻辑内存则是指将硬盘的一块区域划分来作为内存。内存主要作用是在计算机运行时为操作系统和各种程序提供临时储存。常见的物理内存规格有256M、512M、1G、2G等，现如今随着计算机硬件的发展，已经出现4G、8G甚至更高容量的内存规格。当物理内存不足时，可以用虚拟内存代替。
```
### time_wait和close_wait?
https://draveness.me/whys-the-design-tcp-time-wait/
- [ ] 出现的原因
```
time_wait：主动断开tcp协议链接
close_wait：被动断开tcp协议出现的
```
- [ ] 解决方案
```
/etc/sysctl.conf
net.ipv4.tcp_tw_reuse = 1 表示开启重用。允许将TIME-WAIT sockets重新用于新的TCP连接，默认为0，表示关闭；
net.ipv4.tcp_tw_recycle = 1 表示开启TCP连接中TIME-WAIT sockets的快速回收，默认为0，表示关闭。
net.ipv4.ip_local_port_range = 1024 65000 示用于向外连接的端口范围。缺省情况下很小：32768到61000，改为1024到65000。
```
- [ ] 具体案例
### 内存分配
- [ ] 内存区域
- [ ] 内存管理单元
- [ ] 内存组件
- [ ] 内存分配原则
- [ ] 总结
 ```
 https://zhuanlan.zhihu.com/p/59125443
 https://zhuanlan.zhihu.com/p/225190602
 ```
### 并发调度
- [ ] GMP 模型
- [ ] channl 消息传递和时间通知
- [ ] sync.pool 对象复用
  [sync.pool深度揭秘](https://www.cnblogs.com/qcrao-2018/p/12736031.html)
```
避免频繁的创建对象，分配内存的速度超过gc释放内存的速度。
使用的对象能够重复的使用
```
- [ ] 逃逸分析
  [内存逃逸](https://www.cnblogs.com/shijingxiang/articles/12200355.html)
```
查看变量内存分配在栈还是堆，分配在栈上不需要经过GC当函数结束时直接回收，分配在堆上要经过GC回收。
逃逸条件：
1. 函数是否返回了引用的变量
2. 变量的内存占用超过了栈的容量
命令查看逃逸状态：
go build -gcflags main.go
go tool  cpmpile -s main.go
```
### map和sync.map 区别使用
- [ ] map
- [ ]  sync.map
### bitmap bit向量/数组
-  [ ] 是什么
```
用一个bit位来标记某个元素对应的Value， 而Key即是该元素。由于采用了Bit为单位来存储数据，因此在存储空间方面，可以大大节省
```
-  [ ] 做什么
```
1).大批量数据的快速查找，判重，删除(空间换时间)
2).压缩数据
```
-  [ ] boolfilter 布隆过滤
```
包括一个很长的bit向量或数组和一系列随机映射的函数
用于数据查找，防止数据库击穿
```
### radis和mysql 缓存一致性
